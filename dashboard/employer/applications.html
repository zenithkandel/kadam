<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applications</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="../../style/dashboard-content.css">
    
    <style>
        .filter-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 8px 15px;
            border: 1px solid var(--card-border);
            border-radius: 6px;
            background: var(--card-bg);
            color: var(--text-color);
            font-family: inherit;
        }

        .applicant-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .applicant-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
        }

        .applicant-info {
            flex: 1;
        }

        .applicant-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .applicant-name {
            font-weight: 600;
            color: var(--text-color);
            font-size: 1.1rem;
        }

        .applied-for {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .applicant-stats {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--text-color);
        }

        .applicant-actions {
            display: flex;
            gap: 10px;
        }

        .btn-accept {
            background: #2ecc71;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .btn-reject {
            background: transparent;
            color: #ef4444;
            border: 1px solid #ef4444;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .btn-message {
            background: var(--background-light);
            color: var(--text-color);
            border: 1px solid var(--card-border);
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-container {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--text-color);
        }

        .modal-close {
            background: transparent;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            font-size: 1.2rem;
        }

        .modal-body {
            margin: 15px 0;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            font-weight: 500;
            color: var(--text-color);
            margin-bottom: 5px;
        }

        .form-control {
            padding: 10px;
            border: 1px solid var(--card-border);
            border-radius: 6px;
            background: var(--card-bg);
            color: var(--text-color);
            font-family: inherit;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn-secondary {
            background: var(--background-light);
            color: var(--text-color);
            border: 1px solid var(--card-border);
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .applicant-card {
                flex-direction: column;
            }
            
            .applicant-header {
                flex-direction: column;
                gap: 5px;
            }
            
            .applicant-actions {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="filter-bar">
        <select class="filter-select">
            <option value="all">All Jobs</option>
            <option value="web">Web Development</option>
            <option value="design">Logo Design</option>
        </select>
        <select class="filter-select">
            <option value="all">All Status</option>
            <option value="pending">Pending</option>
            <option value="shortlisted">Shortlisted</option>
        </select>
    </div>

    <div class="applicant-list">
        <div class="applicant-card">
            <img src="https://ui-avatars.com/api/?name=John+Doe&background=random" alt="John" class="applicant-avatar">
            <div class="applicant-info">
                <div class="applicant-header">
                    <span class="applicant-name">John Doe</span>
                    <span class="status-badge status-pending">Pending Review</span>
                </div>
                <div class="applied-for">Applied for: <strong>E-commerce Website Design</strong></div>
                <div class="applicant-stats">
                    <span><i class="fa-solid fa-star" style="color: #f1c40f;"></i> 4.8 Rating</span>
                    <span><i class="fa-solid fa-check-circle"></i> 47 Tasks Done</span>
                </div>
                <p style="color: var(--text-light); font-size: 0.9rem; margin-bottom: 15px;">
                    "I have 3 years of experience in web development and have built similar e-commerce sites using React and Node.js..."
                </p>
                <div class="applicant-actions">
                    <button class="btn-accept">Shortlist</button>
                    <button class="btn-message">Message</button>
                    <button class="btn-reject">Reject</button>
                    <button class="btn-message">View Profile</button>
                </div>
            </div>
        </div>

        <div class="applicant-card">
            <img src="https://ui-avatars.com/api/?name=Jane+Smith&background=random" alt="Jane" class="applicant-avatar">
            <div class="applicant-info">
                <div class="applicant-header">
                    <span class="applicant-name">Jane Smith</span>
                    <span class="status-badge status-active">Shortlisted</span>
                </div>
                <div class="applied-for">Applied for: <strong>Logo Design for Startup</strong></div>
                <div class="applicant-stats">
                    <span><i class="fa-solid fa-star" style="color: #f1c40f;"></i> 4.9 Rating</span>
                    <span><i class="fa-solid fa-check-circle"></i> 120 Tasks Done</span>
                </div>
                <p style="color: var(--text-light); font-size: 0.9rem; margin-bottom: 15px;">
                    "Specialized in minimalist logo design. Check my portfolio for recent work samples..."
                </p>
                <div class="applicant-actions">
                    <button class="btn-accept">Hire Now</button>
                    <button class="btn-message">Message</button>
                    <button class="btn-reject">Reject</button>
                    <button class="btn-message">View Profile</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hire Modal -->
    <div class="modal-overlay" id="hireModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">Hire Applicant</h3>
                <button class="modal-close" onclick="closeModal('hireModal')">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>You are about to hire <strong id="hireName">John Doe</strong> for <strong id="hireJob">Web Design</strong>.</p>
                <div class="form-group" style="margin-top: 15px;">
                    <label class="form-label">Final Offer Amount (Rs.)</label>
                    <input type="number" class="form-control" value="25000">
                </div>
                <div class="form-group">
                    <label class="form-label">Message to Applicant</label>
                    <textarea class="form-control" rows="3" placeholder="Congratulations! We would like to hire you..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('hireModal')">Cancel</button>
                <button class="btn-primary" onclick="confirmHire()">Confirm Hire</button>
            </div>
        </div>
    </div>

    <!-- Reject Modal -->
    <div class="modal-overlay" id="rejectModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">Reject Application</h3>
                <button class="modal-close" onclick="closeModal('rejectModal')">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to reject the application from <strong id="rejectName">John Doe</strong>?</p>
                <div class="form-group" style="margin-top: 15px;">
                    <label class="form-label">Reason (Optional)</label>
                    <textarea class="form-control" rows="3" placeholder="Feedback for the applicant..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('rejectModal')">Cancel</button>
                <button class="btn-primary" style="background: #ef4444;" onclick="confirmReject()">Reject Application</button>
            </div>
        </div>
    </div>

    <script>
        // Modal Functions
        function openModal(modalId, name = '', job = '') {
            const modal = document.getElementById(modalId);
            if (name) {
                if (modalId === 'hireModal') {
                    document.getElementById('hireName').textContent = name;
                    if (job) document.getElementById('hireJob').textContent = job;
                } else if (modalId === 'rejectModal') {
                    document.getElementById('rejectName').textContent = name;
                }
            }
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function confirmHire() {
            alert('Applicant hired successfully!');
            closeModal('hireModal');
        }

        function confirmReject() {
            alert('Application rejected.');
            closeModal('rejectModal');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal-overlay')) {
                event.target.classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        // Attach event listeners
        document.querySelectorAll('.btn-accept').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.textContent.trim() === 'Hire Now') {
                    const card = this.closest('.applicant-card');
                    const name = card.querySelector('.applicant-name').textContent;
                    const job = card.querySelector('.applied-for strong').textContent;
                    openModal('hireModal', name, job);
                } else {
                    // Shortlist logic (no modal needed for now, or maybe a simple alert)
                    alert('Applicant shortlisted!');
                }
            });
        });

        document.querySelectorAll('.btn-reject').forEach(btn => {
            btn.addEventListener('click', function() {
                const card = this.closest('.applicant-card');
                const name = card.querySelector('.applicant-name').textContent;
                openModal('rejectModal', name);
            });
        });
    </script>
</body>
</html>